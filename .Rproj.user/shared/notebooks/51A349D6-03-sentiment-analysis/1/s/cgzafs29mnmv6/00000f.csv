"0","hotel_tidy_polarity_bing %>%"
"0","  mutate(review_rating = as.factor(review_rating)) %>%"
"0","  filter(!is.na(polarity_desc)) %>%"
"0","  select(!c(words_positive, words_negative)) %>%  # no lists allowed"
"0","  unnest_tokens(""word"", review_text) %>%"
"0","  anti_join(stop_words, by = ""word"") %>%"
"0","  filter(!str_detect(word, ""[0-9]"")) %>%"
"0","  filter(!word %in% c(""hotel"", ""stay"", ""night"", ""london"")) %>%"
"0","  count(review_rating, polarity_desc, word) %>%"
"0","  group_by(review_rating, polarity_desc) %>%"
"0","  slice_max(order_by = n, n = 8, with_ties = FALSE) %>%"
"0","  mutate(n = if_else(polarity_desc == ""Negative"", -n, n),"
"0","         word = paste0(if_else(polarity_desc == ""Negative"", ""-"", ""+""), word)) %>%"
"0","  ungroup() %>%"
"0","  arrange(review_rating, n) %>%"
"0","  ggplot(aes(x = fct_inorder(word), y = n, fill = polarity_desc, color = polarity_desc)) +"
"0","  geom_col(alpha = 0.6) +"
"0","  facet_wrap(~as.factor(review_rating), scales = ""free"") +"
"0","  scale_fill_few() +"
"0","  scale_color_few() +"
"0","  coord_flip() +"
"0","  theme_minimal() +"
"0","  theme(legend.position = ""top"") +"
"0","  labs(title = ""Top Words by review type"", y = ""Word Count"", x = NULL, "
"0","       fill = NULL, color = NULL)"
